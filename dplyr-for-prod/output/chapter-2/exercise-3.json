["<h1 class=\"reading\" id=\"being-lazy-pays-off\">Being lazy pays off</h1>","<p>Lazy evaluation, or sometimes referred to as “call-by-need”, delays execution until the very last moment. In R, function arguments are lazily evaluated. That means that the value of them are not computed until they are actually needed. This is very powerful! It let’s us write code like this:</p>","<div class=\"cell\">\n<pre class=\"r cell-code\"><code>lazyy &lt;- function(x, y = x + 2) {\n  x + y\n}\n\nlazyy(2)</code></pre>\n</div>","<p>The value of <code>y</code> is set to the value of <code>x</code> plus <code>2</code> but we don’t actually know the value of <code>x</code> until it’s provided as an argument. For a bit clearer example, take, this function.</p>","<div class=\"cell\">\n<pre class=\"r cell-code\"><code>hello_world &lt;- function(x) {\n  \"hello world\"\n}\n\nhello_world()</code></pre>\n</div>","<p>It prints <code>\"hello world\"</code>, but did you notice something? We provided an argument <code>x</code>, that is never used! Since the argument <code>x</code> is never used, and arguments are lazily evaluated, it will never be executed. That means we can commit crimes in the x argument but never get caught.</p>","<div class=\"cell\">\n<pre class=\"r cell-code\"><code>hello_world(stop(\"You shall not pass!!\"))</code></pre>\n</div>","<p>We’ve tried to abort the function by calling <code>stop()</code> in the function argument. No dice.</p>","<p>Let’s try another example where we conditionally evaluate an argument.</p>","<div class=\"cell\">\n<pre class=\"r cell-code\"><code>null_or_y &lt;- function(x, y) {\n  if (isTRUE(x)) {\n    y\n  } else {\n    NULL\n  }\n}</code></pre>\n</div>","<p>With this function we can pass a value of <code>TRUE</code> and it will return the value of <code>y</code>, if the value is <code>FALSE</code>, then function will return <code>NULL</code>.</p>","<p>When <code>x = TRUE</code>, the argument <code>y</code> is evaluated.</p>","<div class=\"cell\">\n<pre class=\"r cell-code\"><code>null_or_y(TRUE, stop(\"stop right there! 👮🏻‍♂️\"))</code></pre>\n</div>","<p>However, if we provide <code>FALSE</code>…</p>","<div class=\"cell\">\n<pre class=\"r cell-code\"><code>null_or_y(FALSE, stop(\"stop right there! 👮🏻‍♂️\"))</code></pre>\n</div>","<p>No error is emitted, and we get <code>NULL</code> returned back to us.</p>"]